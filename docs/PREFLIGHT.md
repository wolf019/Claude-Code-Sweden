# Preflight Checklist

## Status: âœ… READY

**Verified:** 2026-01-31
**Project:** tom-axberg-ai-dev

---

## Accounts Required

- [ ] **Google Cloud Platform** - https://console.cloud.google.com/
  - Active GCP project with billing enabled
  - Owner or Editor role on the project

---

## CLI Tools Required

| Tool | Version | Check Command | Install |
|------|---------|---------------|---------|
| Node.js | 20.x LTS | `node --version` | https://nodejs.org/ |
| npm | 10.x+ | `npm --version` | (comes with Node.js) |
| gcloud CLI | Latest | `gcloud --version` | https://cloud.google.com/sdk/docs/install |
| Docker | 24.x+ | `docker --version` | https://docs.docker.com/get-docker/ |

---

## GCP APIs to Enable

- [ ] **Cloud Run API** - `gcloud services enable run.googleapis.com`
- [ ] **Firestore API** - `gcloud services enable firestore.googleapis.com`
- [ ] **Cloud Build API** - `gcloud services enable cloudbuild.googleapis.com`

Quick enable all:
```bash
gcloud services enable run.googleapis.com firestore.googleapis.com cloudbuild.googleapis.com
```

---

## Environment Variables

Create `.env` file (copy from `.env.example`):

| Variable | Required | Description | Example |
|----------|----------|-------------|---------|
| `GCP_PROJECT_ID` | Yes | Your GCP project ID | `my-wordcloud-project` |
| `PORT` | No | Server port (default 8080) | `8080` |
| `RATE_LIMIT_SECONDS` | No | Vote rate limit (default 5) | `5` |

---

## Manual Setup Steps

### 1. Authenticate gcloud CLI
```bash
gcloud auth login
gcloud config set project YOUR_PROJECT_ID
```

### 2. Create Firestore Database
```bash
# Run the setup script (creates database in europe-north1)
./scripts/setup-firestore.sh

# Or manually:
gcloud firestore databases create --location=europe-north1
```

### 3. Verify Docker Works
```bash
docker run hello-world
```

---

## Cost Estimate (Monthly)

| Service | Free Tier | Expected Usage | Cost |
|---------|-----------|----------------|------|
| Cloud Run | 2M requests/month | ~1K requests/demo | $0 |
| Firestore | 50K reads, 20K writes/day | ~500 writes/demo | $0 |
| Cloud Build | 120 min/day | ~5 min/deploy | $0 |

**Total estimated cost:** $0 (within free tier for demo use)

---

## Pre-Demo Optimizations (Optional)

- [ ] Pre-cache npm dependencies: `npm install` + commit `package-lock.json`
- [ ] Pre-create Firestore database: `./scripts/setup-firestore.sh`
- [ ] Test deployment: `./scripts/deploy.sh`
- [ ] Verify min-instances=2 for zero cold starts

---

## Verification Commands

Run these to verify your environment:

```bash
# Check Node.js
node --version  # Should be v20.x.x

# Check gcloud auth
gcloud auth list  # Should show active account

# Check project
gcloud config get-value project  # Should show your project ID

# Check Docker
docker info  # Should show Docker engine info

# Check APIs enabled
gcloud services list --enabled | grep -E "(run|firestore|cloudbuild)"
```

---

## Troubleshooting

| Issue | Solution |
|-------|----------|
| "Permission denied" on gcloud | Run `gcloud auth login` |
| "Project not found" | Run `gcloud config set project YOUR_PROJECT_ID` |
| Firestore already exists | This is fine, script is idempotent |
| Docker not running | Start Docker Desktop |

---

*Generated by Ralph Preflight Check*
