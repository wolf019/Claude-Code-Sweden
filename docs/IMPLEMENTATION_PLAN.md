# Implementation Plan

**Project:** Claude-Code-Sthlm-1 - Real-time Wordcloud Voting App
**Generated:** 2026-01-31
**Source:** docs/PRD.md

---

## Epics Overview

| Epic | Name | Specs | Status |
|------|------|-------|--------|
| E1 | Project Foundation | 01-03 | pending |
| E2 | Core UI & Interaction | 04-08 | pending |
| E3 | Persistence & Deployment | 09-10 | pending |

---

## Spec Sequence

### E1: Project Foundation (MUST COMPLETE FIRST)

- [ ] 01-project-setup.md - Node.js project with dependencies
- [ ] 02-express-server.md - HTTP server with health check
- [ ] 03-socketio-integration.md - WebSocket communication

**HARD STOP** - Verify: `npm start` works, health check returns 200, Socket.io connects

---

### E2: Core UI & Interaction

- [ ] 04-admin-endpoints.md - Session management endpoints
- [ ] 05-frontend-ui.md - Mobile-friendly interface
- [ ] 06-vote-submission.md - Vote form with validation
- [ ] 07-wordcloud-visualization.md - Canvas wordcloud display
- [ ] 08-realtime-updates.md - Live update engine

**HARD STOP** - Verify: Can join, vote, see wordcloud update in real-time across tabs

---

### E3: Persistence & Deployment

- [ ] 09-firestore-integration.md - Database persistence
- [ ] 10-deployment-script.md - Cloud Run deployment

**HARD STOP** - Verify: Deployed to Cloud Run, public URL accessible, votes persist

---

## Dependencies

```
01 → 02 → 03
          ↓
    04 → 05 → 06 → 07 → 08
                        ↓
                   09 → 10
```

**Critical path:** 01 → 02 → 03 → 05 → 06 → 07 → 08 → 09 → 10

---

## PRD Traceability

| PRD Requirement | Spec(s) | Coverage |
|-----------------|---------|----------|
| FR001: User Session Join | 05, 03 | Join page + WebSocket |
| FR002: Question Display | 04, 05 | Admin endpoint + UI |
| FR003: Text Response Submission | 06 | Vote flow |
| FR004: Wordcloud Visualization | 07 | Canvas rendering |
| FR005: Live Update Propagation | 08, 03 | Real-time engine |
| FR006: Word Frequency Aggregation | 09 | Firestore integration |
| FR007: Mobile-Responsive Interface | 05 | Frontend UI |
| FR008: Session Management | 04 | Admin endpoints |
| NFR001: Performance (<500ms) | 08 | Debounce + broadcast |
| NFR002: Reliability | 09, 03 | Persistence + fallback |
| NFR003: Usability | 05, 06 | Touch targets + feedback |
| NFR004: Deployability | 10, 01 | Scripts + Dockerfile |

---

## Spec Files

| # | Spec | Full Story | Description |
|---|------|------------|-------------|
| 01 | .ralph-specs/01-project-setup.md | docs/stories/story-001-project-setup.md | Node.js + dependencies |
| 02 | .ralph-specs/02-express-server.md | docs/stories/story-002-express-server.md | HTTP server |
| 03 | .ralph-specs/03-socketio-integration.md | docs/stories/story-003-socketio-integration.md | WebSocket |
| 04 | .ralph-specs/04-admin-endpoints.md | docs/stories/story-004-admin-endpoints.md | Admin API |
| 05 | .ralph-specs/05-frontend-ui.md | docs/stories/story-005-frontend-ui.md | UI shell |
| 06 | .ralph-specs/06-vote-submission.md | docs/stories/story-006-vote-submission.md | Vote flow |
| 07 | .ralph-specs/07-wordcloud-visualization.md | docs/stories/story-007-wordcloud-visualization.md | Wordcloud |
| 08 | .ralph-specs/08-realtime-updates.md | docs/stories/story-008-realtime-updates.md | Real-time |
| 09 | .ralph-specs/09-firestore-integration.md | docs/stories/story-009-firestore-integration.md | Database |
| 10 | .ralph-specs/10-deployment-script.md | docs/stories/story-010-deployment-script.md | Deploy |

---

## Live Demo Speedrun (30 min)

Reference: docs/epic-stories.md (Speedrun Guide section)

| Time | Cluster | Checkpoint |
|------|---------|------------|
| 0-5 | Foundation (01-02) | Health check 200 |
| 5-10 | UI + Wordcloud (05, 07) | Wordcloud visible |
| 10-16 | Real-time (03, 08) | 2 tabs sync |
| 16-20 | Vote Flow (06) | Submit works |
| 20-24 | Persistence (09) | Survives restart |
| 24-27 | Deploy (10) | Public URL |
| 27-30 | Live Test | Audience votes! |

---

## Risk Mitigation

| Risk | Mitigation |
|------|------------|
| Behind at 15 min | Skip admin (04), use hardcoded question |
| Behind at 20 min | Skip Firestore (09), use in-memory |
| Behind at 25 min | Switch to pre-deployed backup |

---

*Generated by Ralph Planning Mode*
*Next step: /ralph:preflight to verify requirements, then /ralph:deploy*
